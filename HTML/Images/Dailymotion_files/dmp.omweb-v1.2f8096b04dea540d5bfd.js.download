(function(e){var t;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function i(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if("number"==typeof e.length)return{next:n(e)};throw Error(String(e)+" is not an iterable or ArrayLike")}function r(e){if(!(e instanceof Array)){e=i(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var o,s="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t},a="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},u=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function c(e,t){if(t)e:{var n=u;e=e.split(".");for(var i=0;i<e.length-1;i++){var r=e[i];if(!(r in n))break e;n=n[r]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&a(n,e,{configurable:!0,writable:!0,value:t})}}if("function"==typeof Object.setPrototypeOf)o=Object.setPrototypeOf;else{var h;e:{var l={};try{l.__proto__={a:!0},h=l.a;break e}catch(St){}h=!1}o=h?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var f=o;function d(e,t){if(e.prototype=s(t.prototype),e.prototype.constructor=e,f)f(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.wa=t.prototype}function v(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t}function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var p="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)g(i,r)&&(e[r]=i[r])}return e};function m(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function y(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}c("Object.assign",(function(e){return e||p})),c("Symbol",(function(e){function t(e,t){this.g=e,a(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}})),c("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<t.length;i++){var r=u[t[i]];"function"==typeof r&&"function"!=typeof r.prototype[e]&&a(r.prototype,e,{configurable:!0,writable:!0,value:function(){return m(n(this))}})}return e})),c("WeakMap",(function(e){function t(e){if(this.g=(c+=Math.random()+1).toString(),e){e=i(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(){}function r(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function o(e){if(!g(e,u)){var t=new n;a(e,u,{value:t})}}function s(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(Object.isExtensible(e)&&o(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),i=new e([[t,2],[n,3]]);return 2==i.get(t)&&3==i.get(n)&&(i.delete(t),i.set(n,4),!i.has(t)&&4==i.get(n))}catch(e){return!1}}())return e;var u="$jscomp_hidden_"+Math.random();s("freeze"),s("preventExtensions"),s("seal");var c=0;return t.prototype.set=function(e,t){if(!r(e))throw Error("Invalid WeakMap key");if(o(e),!g(e,u))throw Error("WeakMap key fail: "+e);return e[u][this.g]=t,this},t.prototype.get=function(e){return r(e)&&g(e,u)?e[u][this.g]:void 0},t.prototype.has=function(e){return r(e)&&g(e,u)&&g(e[u],this.g)},t.prototype.delete=function(e){return!!(r(e)&&g(e,u)&&g(e[u],this.g))&&delete e[u][this.g]},t})),c("Map",(function(e){function t(){var e={};return e.L=e.next=e.head=e}function n(e,t){var n=e.g;return m((function(){if(n){for(;n.head!=e.g;)n=n.L;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function r(e,t){var n=t&&typeof t;"object"==n||"function"==n?s.has(t)?n=s.get(t):(n=""+ ++a,s.set(t,n)):n="p_"+t;var i=e.h[n];if(i&&g(e.h,n))for(e=0;e<i.length;e++){var r=i[e];if(t!=t&&r.key!=r.key||t===r.key)return{id:n,list:i,index:e,A:r}}return{id:n,list:i,index:-1,A:void 0}}function o(e){if(this.h={},this.g=t(),this.size=0,e){e=i(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(i([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),o=r.next();return!o.done&&o.value[0]==t&&"s"==o.value[1]&&!((o=r.next()).done||4!=o.value[0].x||"t"!=o.value[1]||!r.next().done)}catch(e){return!1}}())return e;var s=new WeakMap;o.prototype.set=function(e,t){var n=r(this,e=0===e?0:e);return n.list||(n.list=this.h[n.id]=[]),n.A?n.A.value=t:(n.A={next:this.g,L:this.g.L,head:this.g,key:e,value:t},n.list.push(n.A),this.g.L.next=n.A,this.g.L=n.A,this.size++),this},o.prototype.delete=function(e){return!(!(e=r(this,e)).A||!e.list||(e.list.splice(e.index,1),e.list.length||delete this.h[e.id],e.A.L.next=e.A.next,e.A.next.L=e.A.L,e.A.head=null,this.size--,0))},o.prototype.clear=function(){this.h={},this.g=this.g.L=t(),this.size=0},o.prototype.has=function(e){return!!r(this,e).A},o.prototype.get=function(e){return(e=r(this,e).A)&&e.value},o.prototype.entries=function(){return n(this,(function(e){return[e.key,e.value]}))},o.prototype.keys=function(){return n(this,(function(e){return e.key}))},o.prototype.values=function(){return n(this,(function(e){return e.value}))},o.prototype.forEach=function(e,t){for(var n,i=this.entries();!(n=i.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},o.prototype[Symbol.iterator]=o.prototype.entries;var a=0;return o})),c("Object.values",(function(e){return e||function(e){var t,n=[];for(t in e)g(e,t)&&n.push(e[t]);return n}})),c("Array.prototype.keys",(function(e){return e||function(){return y(this,(function(e){return e}))}})),c("Set",(function(e){function t(e){if(this.g=new Map,e){e=i(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.g.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(i([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),o=r.next();return!o.done&&o.value[0]==t&&o.value[1]==t&&!(o=r.next()).done&&o.value[0]!=t&&4==o.value[0].x&&o.value[1]==o.value[0]&&r.next().done}catch(e){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.g.set(e,e),this.size=this.g.size,this},t.prototype.delete=function(e){return e=this.g.delete(e),this.size=this.g.size,e},t.prototype.clear=function(){this.g.clear(),this.size=0},t.prototype.has=function(e){return this.g.has(e)},t.prototype.entries=function(){return this.g.entries()},t.prototype.values=function(){return this.g.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.g.forEach((function(i){return e.call(t,i,i,n)}))},t)})),c("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),c("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(0>(t=t||0)&&(t=Math.max(t+i,0));t<i;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}})),c("String.prototype.includes",(function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}})),c("Array.prototype.values",(function(e){return e||function(){return y(this,(function(e,t){return t}))}}));var b={na:"loaded",ta:"start",ka:"firstQuartile",oa:"midpoint",ua:"thirdQuartile",ia:"complete",pa:"pause",ra:"resume",ha:"bufferStart",ga:"bufferFinish",sa:"skipped",va:"volumeChange",qa:"playerStateChange",fa:"adUserInteraction"},w={la:"full",ja:"domain",ma:"limited"};function x(e,t){this.x=null!=e.x?e.x:e.left,this.y=null!=e.y?e.y:e.top,this.width=e.width,this.height=e.height,this.J=this.x+this.width,this.K=this.y+this.height,this.H=e.H||void 0,this.V=e.V||[],this.h=e.friendlyObstructionClass||void 0,this.i=e.friendlyObstructionPurpose||void 0,this.j=e.friendlyObstructionReason||void 0,this.P=void 0===e.P||!0===e.P,this.m=void 0===e.hasWindowFocus||!0===e.hasWindowFocus,this.D=e.D||void 0,this.aa=e.aa||void 0,this.W="true"===e.W||!0===e.W||!1,this.N=e.N||[],this.R=e.R||!1,this.g=t}function j(e){var t={};return t.width=e.width,t.height=e.height,t}function S(e){var t={};return Object.assign({},j(e),(t.x=e.x,t.y=e.y,t))}function O(e){var t=S(e),n={};return Object.assign({},t,(n.endX=e.J,n.endY=e.K,n))}function k(e){return e.width*e.height}function I(e){return 0===e.width||0===e.height}function E(e,t){return{x:Math.max(e.x,t.x),y:Math.max(e.y,t.y),J:Math.min(e.x+e.width,t.x+t.width),K:Math.min(e.y+e.height,t.y+t.height)}}function M(e,t){-1===e.indexOf(t)&&e.push(t)}function C(){this.h=this.g=this.i=this.l=void 0,this.u=0,this.o=[],this.v=[],this.B=0,this.s=[],this.j=[],this.m=[]}function _(e){var t=[],n=[],i={viewport:e.l,adView:{percentageInView:e.u,pixelsInView:e.B,reasons:e.m},declaredFriendlyObstructions:e.o.length};if(void 0!==e.g){i.adView.geometry=S(e.g),i.adView.geometry.pixels=k(e.g),i.adView.onScreenGeometry=S(e.h),i.adView.onScreenGeometry.pixels=R(e);for(var r=0;r<e.j.length;r++)t.push(S(e.j[r]));for(r=0;r<e.v.length;r++){var o=e.v[r],s=o,a={};s.h&&(a.obstructionClass=s.h),s.i&&(a.obstructionPurpose=s.i),s.j&&(a.obstructionReason=s.j),o=E(e.g,o),n.push(Object.assign({},{x:o.x,y:o.y,width:o.J-o.x,height:o.K-o.y},a))}i.adView.onScreenGeometry.obstructions=t,i.adView.onScreenGeometry.friendlyObstructions=n}return i}function V(e,t){t=j(t),e.l={},e.l.width=t.width,e.l.height=t.height,e.i={},e.i.x=0,e.i.y=0,e.i.width=t.width,e.i.height=t.height,e.i.endX=t.width,e.i.endY=t.height}function N(e,t){var n={};return n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.endX=Math.min(e.endX,t.endX),n.endY=Math.min(e.endY,t.endY),n.width=Math.max(0,n.endX-n.x),n.height=Math.max(0,n.endY-n.y),n}function T(e,t){return.01<t.width-e.width||.01<t.height-e.height}function A(e){if(-1!==e.m.indexOf("backgrounded"))e.u=0,e.B=0;else{var t=k(e.g);if(0!==t){var n=R(e);e.u=Math.round(n/t*100),e.B=n}}}function P(e,t){if(I(t)||!e.h)t=!1;else{var n=O(e.h),i=n.y,r=n.endX;e=n.endY;var o=t.J;(o=o<(n=n.x)||.01>Math.abs(o-n))||(o=(o=t.x)>r||.01>Math.abs(o-r)),(r=o)||(r=(r=t.K)<i||.01>Math.abs(r-i)),(i=r)||(i=(t=t.y)>e||.01>Math.abs(t-e)),t=!i}return t}function U(e,t){for(var n=!1,i=0;i<e.m.length;i++)e.m[i]===t&&(n=!0);n||e.m.push(t)}function R(e){var t=Math,n=t.max,i=k(e.h),r=e.j,o=0;if(0<r.length){var s=function(e,t){e=S(e);for(var n=[],i=[],r=0;r<t.length;r++){var o=S(t[r]);M(n,(o=E(e,o)).x),M(n,o.J),M(i,o.y),M(i,o.K)}return{da:n=n.sort((function(e,t){return e-t})),ea:i=i.sort((function(e,t){return e-t}))}}(e.h,r);e=s.da,s=s.ea;for(var a=0;a<e.length-1;a++)for(var u=(e[a]+(e[a]+1))/2,c=e[a+1]-e[a],h=0;h<s.length-1;h++){for(var l=(s[h]+(s[h]+1))/2,f=s[h+1]-s[h],d=!1,v=0;v<r.length;v++){var g=S(r[v]);if(g.x<u&&g.x+g.width>u&&g.y<l&&g.y+g.height>l){d=!0;break}}d&&(o+=Math.round(c)*Math.round(f))}}return n.call(t,0,i-o)}function B(){}function L(){}function z(e,t,n,i){var r=!!t.R||t.H===i;if(r){n.g=t;var o=O(n.g);e=N(n.i,o);var s=n.g;"notAttached"===s.D||"noWindowFocus"===s.D||"noAdView"===s.D?(U(n,"notFound"),n.h=new x({x:0,y:0,endX:0,endY:0,width:0,height:0},!1)):"viewInvisible"===(s=n.g).D||"viewGone"===s.D||"viewNotVisible"===s.D||"viewAlphaZero"===s.D||"viewHidden"===s.D||void 0!==n.g.D||I(n.g)?(U(n,"hidden"),n.h=new x({x:0,y:0,endX:0,endY:0,width:0,height:0},!1)):(n.g.W&&U(n,"pictureInPicture"),n.g.m||(U(n,"backgrounded"),U(n,"noWindowFocus")),T(e,o)&&U(n,"clipped"),n.h=new x(e,!1))}else if(o=!0,t.g&&(o=-1===t.V.indexOf(i)&&!1===t.P),o){s=t.N;for(var a=0;a<s.length;a++)o=void 0!==n.g,z(e,new x(s[a],o),n,i)}r||void 0===n.g||(t.g?-1!==t.V.indexOf(i)?n.o.push(t):n.s.push(t):(r=O(t),i=O(n.h),S(n.h),!I(n.h)&&t.P&&T(t=N(i,r),i)&&(U(n,"clipped"),n.h=new x(t,!1))))}function F(){this.g=new Map,this.h=null}function J(){return D||(D=new F),D}x.prototype.T=function(e){if(null==e)return!1;var t=(e=S(e)).y,n=e.width,i=e.height;return this.x===e.x&&this.y===t&&this.width===n&&this.height===i},C.prototype.T=function(e){return null!=e&&JSON.stringify(_(this))===JSON.stringify(_(e))};var D=null;function W(e,t){this.y=this.x=0,this.width=e,this.height=t}function G(){this.H=null,this.i={apiVersion:"1.0",accessMode:"limited",environment:"web",omidJsInfo:{omidImplementer:"omsdk",serviceVersion:"1.5.0-iab4484"},adSessionType:"html",supports:["clid","vlid"]},this.C=null,this.B="foregrounded",this.s=this.j="none",this.o=this.l=this.m=this.G=this.h=this.g=this.M=this.v=null,this.u=new Map}var H=function(){if(void 0!==e&&e)return e;if("undefined"!=typeof global&&global)return global;if("undefined"!=typeof window&&window)return window;if("undefined"!=typeof globalThis&&globalThis)return globalThis;var t=Function("return this")();if(t)return t;throw Error("Could not determine global object context.")}();function Y(){var t=e;if(null==t||void 0===t.top||null==t.top)return null;try{var n=t.top;return function(e){if(e===H)return!1;try{if(void 0===e.location.hostname)return!0}catch(e){return!0}return!1}(n)?null:n.location.href}catch(e){return null}}function X(e,t){this.g=e,this.h=t}function K(){var e=v.apply(0,arguments);Z((function(){throw new(Function.prototype.bind.apply(Error,[null,"Could not complete the test successfully - "].concat(r(e))))}),(function(){return console.error.apply(console,r(e))}))}function Q(){var e=v.apply(0,arguments);Z((function(){}),(function(){return console.error.apply(console,r(e))}))}function Z(e,t){"undefined"!=typeof jasmine&&jasmine?e():"undefined"!=typeof console&&console&&console.error&&t()}function $(e){this.g=e,this.m=[],this.i=[],this.j=[],this.l=[],this.o={}}function q(e,t){e.m.push(t),function(e,t){if(void 0!==e.g&&e.g.H&&!1!==te(e,t)){var n=t.event;e.j.filter((function(e){return e.type===n.type})).forEach((function(t){e.h(t.I,n)}))}}(e,t)}function ee(e,t,n){void 0!==e.g&&e.g.H&&e.m.filter((function(n){return n.event.type===t&&te(e,n)})).map((function(e){return e.event})).forEach((function(t){e.h(n.I,t)}))}function te(e,t){var n=t.event.type,i=-1!==Object.values(b).indexOf(n)&&"volumeChange"!==n;return"impression"===n||"loaded"===n&&e.g.h?t.origin===e.g.s:!i||t.origin===e.g.j}function ne(e,t,n){var i=ce(e,"sessionError","native",{errorType:t,message:n});e.i.push(i),e.l.forEach((function(t){e.h(t.I,i.event)}))}function ie(e,t,n){n.ba&&(t.data.verificationParameters=e.o[n.ba]),n.U&&(n=e.g.u.get(n.U))&&(t.data.verificationParameters=n.verificationParameters,t.data.context.accessMode=n.accessMode,"full"===n.accessMode&&(e.g.l&&(t.data.context.videoElement=e.g.l),e.g.m&&(t.data.context.slotElement=e.g.m)))}function re(e,t){e:{t=new Set(t);for(var n=(e=i(e.m.concat(e.i))).next();!n.done;n=e.next())if(n=n.value,t.has(n.event.type)&&"javascript"!=n.origin){t=!0;break e}t=!1}return!t||(K("Event owner cannot be registered after its events have already been published."),!1)}function oe(e){var t=e.g.s;return"none"==t||"javascript"==t||(K("Impression event is owned by "+e.g.s+", not javascript."),!1)}function se(e){var t=e.g.j;return"none"==t||"javascript"==t||(K("Media events are owned by "+e.g.j+", not javascript."),!1)}function ae(e,t,n){return n=void 0!==n&&n,t=Object.assign({},t),e.g.g&&Object.assign(t,{mediaType:e.g.g}),e.g.h&&(n||"definedByJavaScript"!==e.g.h)&&Object.assign(t,{creativeType:e.g.h}),t}function ue(e,t){return e.g.G?Object.assign({},t,{impressionType:e.g.G}):t}function ce(e,t,n,i){return new X({adSessionId:e.g.H||"",timestamp:(new Date).getTime(),type:t,data:i},n)}function he(e){var t=(e=e.event).data?Object.assign({},e.data):void 0;return"sessionStart"===e.type&&(t.context=Object.assign({},t.context)),{adSessionId:e.adSessionId,timestamp:e.timestamp,type:e.type,data:t}}function le(e,t,n){"start"!==t&&"volumeChange"!==t||null!=(n&&n.deviceVolume)||(n.deviceVolume=e.g.v)}function fe(e,t,n){if(n&&("start"===t||"volumeChange"===t)){t=n.videoPlayerVolume;var i=n.mediaPlayerVolume;null!=t?(Object.assign(n,{mediaPlayerVolume:t}),e.g.M=t):null!=i&&(Object.assign(n,{videoPlayerVolume:i}),e.g.M=i)}}function de(e,t){this.h=e,this.g=t}function ve(){var t;this.g=t=void 0===t?e:t}function ge(e,t){return e.g&&e.g[t]?e.g[t]:pe(e,t)}function pe(e,t){if(e.g&&e.g.omidNative&&e.g.omidNative[t])return e.g.omidNative[t].bind(e.g.omidNative);throw Error('Native interface method "'+t+'" not found.')}function me(e){return!(!e||!e.tagName||"iframe"!==e.tagName.toLowerCase())}function ye(e,t,n,i,r){this.j=e,this.ca=t,this.X=n,this.i=i,this.$=r,this.h=null,this.g=this.m=this.M=void 0,this.Z=!0,this.o=void 0,be(this)}function be(e){if(!e.h){var t;e:{if((t=e.j.document)&&t.getElementsByClassName&&(t=t.getElementsByClassName("omid-element"))){if(1==t.length){t=t[0];break e}1<t.length&&e.Z&&(ne(e.X,"generic","More than one element with 'omid-element' class name."),e.Z=!1)}t=null}if(t&&t.tagName&&"video"===t.tagName.toLowerCase())e.i.l=t;else{if(!t||!t.tagName)return;e.i.m=t}we(e)}}function we(e){e.i.l?(e.h=e.i.l,e.s()):e.i.m&&(e.h=e.i.m,me(e.h)?e.i.o&&e.s():e.s())}function xe(e){e.g&&(me(e.h)?e.i.o&&(e.S(),je(e)):(e.S(),je(e)))}function je(e){if(e.M){e.i.S=e.M;var t=(e=e.ca).g.S,n=e.g.O;if(t&&!t.T(n)){n=_(t);var i=e.h;"audio"!=i.g.h&&q(i,ce(i,"geometryChange","native",n)),e.g.O=t}}}function Se(e){if(e.g&&e.i.o){var t=new x(e.i.o,!1),n=e.g.x;return e=e.g.y,t.x+=n,t.y+=e,t.J+=n,t.K+=e,t.P=!0,t}}function Oe(e,t,n,i,r,o){ye.call(this,e,n,i,r,o),this.u=t,this.l=void 0}function ke(e){if(void 0!==e.l){if(Ie(e)){var t=e.j.top;t=new x(new W(t.innerWidth,t.innerHeight),!1)}else t=new x(new W(0,0),!1);var n=e.h.getBoundingClientRect();(null==n.x||isNaN(n.x))&&(n.x=n.left),(null==n.y||isNaN(n.y))&&(n.y=n.top),n=new x(n,!1),t.T(e.m)&&n.T(e.g)||(e.g=n,e.g.P=!0,e.m=t,e.m.N.push(e.g),xe(e))}}function Ie(e){try{var t=e.j.top;return 0<=t.innerHeight&&0<=t.innerWidth}catch(e){}return!1}function Ee(e,t,n,i,r,o){ye.call(this,e,n,i,r,o),this.C=this.u=this.B=this.l=void 0,this.Y=!1,this.G=void 0}function Me(e){e.B&&(e.B.disconnect(),e.B=void 0),e.u&&(e.u.disconnect(),e.u=void 0),e.C&&((0,e.j.removeEventListener)("resize",e.C),e.C=void 0)}function Ce(e){e.l&&e.h&&(e.l.unobserve(e.h),e.l.observe(e.h))}function _e(e){return 0==(e=e.getBoundingClientRect()).width||0==e.height}function Ve(e){e.h&&!_e(e.h)&&(Ce(e),Me(e))}function Ne(e){if(e&&null!==e.x&&null!==e.y&&null!==e.width&&null!==e.height)return new x(e,!1)}function Te(e){if("object"==typeof e&&"object"==typeof e.webOSSystem)return e.webOSSystem}function Ae(e){return"object"==typeof Te(e)}function Pe(e){if("object"==typeof e&&"object"==typeof e.tizen)return e.tizen}function Ue(e){return"object"==typeof Pe(e)}function Re(e,t){this.h=e,this.g=t}function Be(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return"y"===e?(3&t|8).toString(16):t.toString(16)}))}function Le(e,t){var n=void 0===n?H:n;this.i=e,this.g=n,this.j=t,this.h=[]}function ze(e){if(!e.g||!e.g.document)throw Error("OMID Service Script is not running within a window.");var t=e.h;e.h=[],t.forEach((function(t){try{var n=t.accessMode,i=("string"==typeof n&&-1!==Object.values(w).indexOf(n)?t.accessMode:null)||"limited";t.accessMode=i;e:{var r=t.resourceUrl,o=e.g.location.origin;try{var s=new URL(r,o);break e}catch(e){}try{s=new URL(r);break e}catch(e){}s=null}if(n=s){var a=Be(),u=e.g.document,c=u.createElement("iframe");c.id="omid-verification-script-frame-"+a,c.style.display="none",["full","limited"].includes(i)?c.srcdoc="<html><head>\n<script type=\"text/javascript\">window['omidVerificationProperties'] = {\n'serviceWindow': window.parent,\n'injectionSource': 'web',\n'injectionId': '"+a+'\',\n};<\/script>\n<script type="text/javascript" src="'+n.href+'"><\/script>\n</head><body></body></html>':"domain"==i&&(c.src=function(e,t,n){var i="/.well-known/omid/omloader-v1.html#";new Map([["verificationScriptUrl",n.href],["injectionId",t]]).forEach((function(e,t){i+=encodeURIComponent(t)+"="+encodeURIComponent(e)+"&"})),t=null;try{t=new URL(i,e.g.parent.location.origin)}catch(e){throw Error("OMID Service Script cannot access the parent window.")}return t}(e,a,n).href),["domain","limited"].includes(i)&&(c.sandbox="allow-scripts"),u.body.appendChild(c),J().g.set(a,c);var h=t.vendorKey,l=t.verificationParameters;l=void 0===l?"":l,(h=void 0===h?"":h)&&"string"==typeof h&&""!==h&&l&&"string"==typeof l&&""!==l&&(e.i.o[h]=l),e.j.u.set(a,t)}}catch(e){Q("OMID verification script "+t.resourceUrl+" failed to load: "+e)}}))}function Fe(e,t){var n=window,i=this;if(Ae(n))if(n)if(n.WebOSServiceBridge){this.i=e,this.h=t,this.g=new n.WebOSServiceBridge,this.g.onservicecallback=function(e){try{var t=JSON.parse(e);if(t&&t.errorCode)i.error(e);else if(t){if(!Je(i,e,t,"volumeStatus","object")){var n=t.volumeStatus;Je(i,e,n,"muteStatus","boolean")||Je(i,e,n,"volume","number")||Je(i,e,n,"maxVolume","number")||(0>=n.maxVolume?i.error("Invalid max volume status."):i.i(n.muteStatus?0:n.volume/n.maxVolume))}}else i.error("No object recieved from webOS bridge")}catch(e){i.error(e)}};try{this.g.call("luna://com.webos.service.audio/master/getVolume",'{"subscribe":true}')}catch(e){this.error(e)}}else this.h("No WebOSServiceBridge on windowContext");else this.h("No window context")}function Je(e,t,n,i,r){return typeof n[i]!==r&&(e.error('Unexpected formatting on message from webOS bridge: "'+t+'". Expected "'+i+'" to be of type "'+r+'" but was of type "'+typeof n[i]+'".'),!0)}function De(e){return!!Ue(e)&&"object"==typeof Pe(e).tvinputdevice}function We(e,t){var n=window,i=this;if(n)if(this.validate(n)){this.h=t;var r=Pe(n).tvaudiocontrol;this.g=void 0,(t=function(){var t=r.isMute()?0:r.getVolume()/100;void 0!==i.g&&i.g==t||(i.g=t,e(i.g))})(),this.i=n.setInterval(t,200),this.j=n}else t("Invalid Tizen window context");else t("No window context")}function Ge(e,t,n,i,r){var o=this;this.g=e,this.i=t,this.h=n,this.l=i,this.o=r,this.m=!1,He(this,(function(e){if("sessionStart"===e.type){o.m=!0;try{ze(o.l)}catch(e){K(e.message)}}"sessionFinish"===e.type&&(o.m=!1)}))}function He(e,t,n,i){!function(e,t,n,i){var r={ba:n,U:i,I:t};e.l.push(r),e.i.forEach((function(t){var n=he(t);"sessionStart"===t.event.type&&ie(e,n,r),e.h(r.I,n)}))}(e.i,t,n,i)}function Ye(e,t){if(!t)return e.g;for(var n=i(e.h.values()),r=n.next();!r.done;r=n.next())if((r=r.value).g.u.has(t))return r;return e.g}function Xe(e,t){return null==t?e.g:e.h.get(t)||e.g}function Ke(t){var n=new G,i=new $(n),r=new B,o=new L,s=new de(i,n);t=t.i;var a=e;return new Ge(n,i,r=a?a.IntersectionObserver&&(a.MutationObserver||a.ResizeObserver)?new Ee(a,r,s,i,n,t):new Oe(a,o,s,i,n,t):null,new Le(i,n),new Re(i,n))}function Qe(e,t,n,i){this.h=e,this.method=t,this.version=n,this.g=i}function Ze(e){return!!e&&void 0!==e.omid_message_guid&&void 0!==e.omid_message_method&&void 0!==e.omid_message_version&&"string"==typeof e.omid_message_guid&&"string"==typeof e.omid_message_method&&"string"==typeof e.omid_message_version&&(void 0===e.omid_message_args||void 0!==e.omid_message_args)}function $e(e){return new Qe(e.omid_message_guid,e.omid_message_method,e.omid_message_version,e.omid_message_args)}function qe(e){var t={};return t.omid_message_guid=e.h,t.omid_message_method=e.method,t.omid_message_version=e.version,void 0!==e.g&&(t.omid_message_args=e.g),t}function et(e){this.i=e}function tt(e){this.i=e,this.handleExportedMessage=tt.prototype.j.bind(this)}function nt(e){return it(e,"SessionService.")}function it(e,t){return(e=e.match(new RegExp("^"+t+"(.*)")))&&e[1]}function rt(e,t){this.h=e,this.i=t}function ot(e,t){return e.g.bind(e,t)}function st(e,t){this.i=t=void 0===t?H:t;var n=this;e.addEventListener("message",(function(e){if("object"==typeof e.data){var t=e.data;Ze(t)&&e.source&&n.g&&n.g($e(t),e.source)}}))}function at(){this.g=It}function ut(e,t,n,i){e=Xe(e.g,t),"impression"==n?oe(e.i)&&(q(n=e.i,ce(n,"impression","javascript",i=ae(n,ue(n,i=(i=n.g.O)?_(i):null)))),e.h&&be(e.h)):("loaded"==n?(t=void 0===(t=i)?null:t,se(e.i)&&((i=e.i).g.h||"display"!=i.g.g)&&q(i,t=ce(i,"loaded","javascript",ae(i,ue(i,void 0===t?null:t))))):se(e.i)&&(le(t=e.i,n,i),fe(t,n,i),q(t,ce(t,n,"javascript",i))),["loaded","start"].includes(n)&&e.h&&be(e.h))}function ct(e){e=e.split("-")[0].split(".");for(var t=["1","0","3"],n=0;3>n;n++){var i=parseInt(e[n],10),r=parseInt(t[n],10);if(i>r)break;if(i<r)return!1}return!0}function ht(e,t){return/\d+\.\d+\.\d+(-.*)?/.test(e)&&ct(e)?t:JSON.stringify(t)}function lt(e,t){return/\d+\.\d+\.\d+(-.*)?/.test(e)&&ct(e)?t||[]:t&&"string"==typeof t?JSON.parse(t):[]}function ft(){var t=Et,n=this,i=void 0===i?e:i;this.g=t,this.h=i,this.j=new tt,this.h.omid=this.h.omid||{},this.h.omid.v1_SessionServiceCommunication=this.j,this.i=i&&i.addEventListener&&i.postMessage?new st(i):null,this.m=null,this.j.g=this.l.bind(this),this.i&&(this.i.g=this.o.bind(this)),this.s=new rt((function(e,t,i){try{vt(n,e,t,i)}catch(e){K(gt(e))}}),(function(e){n.m=e;var t=Be();n.i.h(new Qe(t,"identifyServiceWindow","1.5.0-iab4484"),e)})),function(e,t){null==(t=void 0===t?H:t).omidSessionInterface&&((e={setSessionClientWindow:e.i,setClientInfo:ot(e,"setClientInfo"),registerSessionObserver:ot(e,"registerSessionObserver"),startAdSession:ot(e,"startSession"),finishAdSession:ot(e,"finishSession"),reportError:ot(e,"sessionError"),registerAdEvents:ot(e,"registerAdEvents"),registerMediaEvents:ot(e,"registerMediaEvents"),injectVerificationScriptResources:ot(e,"injectVerificationScriptResources"),setSlotElement:ot(e,"setSlotElement"),setVideoElement:ot(e,"setVideoElement"),setElementBounds:ot(e,"setElementBounds"),setCreativeType:ot(e,"setCreativeType"),setImpressionType:ot(e,"setImpressionType"),setContentUrl:ot(e,"setContentUrl"),adEvents:{impressionOccurred:ot(e,"impressionOccurred"),loaded:ot(e,"loaded")},mediaEvents:{start:ot(e,"start"),firstQuartile:ot(e,"firstQuartile"),midpoint:ot(e,"midpoint"),thirdQuartile:ot(e,"thirdQuartile"),complete:ot(e,"complete"),pause:ot(e,"pause"),resume:ot(e,"resume"),bufferStart:ot(e,"bufferStart"),bufferFinish:ot(e,"bufferFinish"),skipped:ot(e,"skipped"),volumeChange:ot(e,"volumeChange"),playerStateChange:ot(e,"playerStateChange"),adUserInteraction:ot(e,"adUserInteraction")}}).mediaEvents.loaded=e.adEvents.loaded,e.videoEvents=e.mediaEvents,Object.freeze(e),Object.defineProperty(t,"omidSessionInterface",{value:e,writable:!1}))}(this.s,this.h)}function dt(e,t,n,i){var r=t.h,o=t.method,s=t.version;t=lt(s,t.g);try{vt(e,o,(function(){var e=new Qe(r,"response",s,ht(s,v.apply(0,arguments)));i.h(e,n)}),t)}catch(e){i.h(new Qe(r,"error",s,gt(e)),n)}}function vt(e,t,n,r){if(null!=nt(t))switch(nt(t)){case"registerAdEvents":var o=i(r).next().value,s=Xe(e.g.g,o).i;re(s,["impression"])&&oe(s)&&(s.g.s="javascript");break;case"registerMediaEvents":var a=i(r).next().value,u=Xe(e.g.g,a).i;re(u,Object.values(b))&&se(u)&&(u.g.j="javascript");break;case"registerSessionObserver":var c=i(r).next().value;e.g.registerSessionObserver(c,n);break;case"setSlotElement":var h=i(r),l=h.next().value,f=h.next().value;e.g.setSlotElement(f,l);break;case"setVideoElement":var d=i(r),v=d.next().value,g=d.next().value,p=Xe(e.g.g,g);v&&v.tagName&&"video"===v.tagName.toLowerCase()?(p.g.l=v,p.h&&we(p.h)):K("setVideoElement called with a non-HTMLVideoElement. It will be ignored.");break;case"setElementBounds":var m=i(r),y=m.next().value,w=m.next().value;e.g.setElementBounds(w,y);break;case"startSession":var x=i(r),j=x.next().value,S=x.next().value,O=e.h;if(null!=j&&"object"==typeof j){var k=j.customReferenceData,I=j.underEvaluation;"string"==typeof k||(k=void 0),"boolean"==typeof I||(I=!1);var E={customReferenceData:k,underEvaluation:I};if(Ae(O)){var M,C=Te(O);"object"==typeof C&&(M=C.identifier),E.app={appId:M&&"string"==typeof M?M:void 0};e:{var _=Te(O);if("object"==typeof _){try{var V=JSON.parse(_.deviceInfo)}catch(e){var N=void 0;break e}N={deviceType:V.modelName||"Unknown",osVersion:V.platformVersion||"Unknown",os:"webOS"}}else N=void 0}E.deviceInfo=N,E.deviceCategory="ctv"}else if(Ue(O)){e:{if(Ue(O)){try{var T=Pe(O).application.getCurrentApplication().appInfo.id}catch(e){var A=void 0;break e}if("string"==typeof T){A=T;break e}}A=void 0}if(E.app={appId:A},Ue(O)){var P=Pe(O).systeminfo;if("object"==typeof P&&"function"==typeof P.getCapability)var U=P.getCapability("http://tizen.org/system/model_name"),R=P.getCapability("http://tizen.org/feature/platform.version");var B={deviceType:U||"Unknown",osVersion:R||"Unknown",os:"tizen"}}else B=void 0;E.deviceInfo=B,De(O)&&(E.deviceCategory="ctv")}j=E}else j=null;if(null==j)break;var L=j,z=void 0===z?null:z,F=Xe(e.g.g,S),D=F.g.i;D.sessionOwner||(D.sessionOwner="javascript");var W=S||Be();F.g.H=W,L.canMeasureVisibility=F.h.O();var G=F.g;void 0!==L.contentUrl&&(G.C=L.contentUrl,L.contentUrl=void 0);var H=G.i||{};L.omidJsInfo=Object.assign({},H.omidJsInfo||{},L.omidJsInfo||{});var X=Object.assign({},H,L);G.i=X,function(e,t){if(e.o=Object.assign(e.o,t),void 0!==(t=e.g.i)){t=Object.assign({},function(e){var t=J().h;return t?Object.assign({},e,{lastActivity:t}):e}(ae(e,ue(e,{context:t}),!0)),{supportsLoadedEvent:!!e.g.h||"video"==e.g.g}),Object.assign(t,{pageUrl:Y(),contentUrl:e.g.C});var n=ce(e,"sessionStart","native",t);e.i.push(n),e.l.forEach((function(t){var i=he(n);ie(e,i,t),e.h(t.I,i)}),e),function(e){for(var t=e.m.filter((function(t){return!!(Object.values(b).includes(t.event.type)&&"video"==e.g.g&&t.origin===e.g.j||"loaded"==t.event.type&&"display"==e.g.g&&t.origin===e.g.s)})).map((function(e){return e.event})),n=e.g.H||"",r={},o=(t=i(t)).next();!o.done;r={F:r.F},o=t.next()){if(r.F=o.value,r.F.adSessionId||(r.F.adSessionId=n),"loaded"==r.F.type){if(!e.g.h&&"display"==e.g.g)continue;r.F.data=ae(e,ue(e,r.F.data))}e.j.filter(function(e){return function(t){return t.type===e.F.type}}(r)).forEach(function(e){return function(t){return t.I(e.F)}}(r))}}(e)}}(F.i,z),F.h&&be(F.h),function(e){if(Ue(window)||Ae(window)){var t=function(t){if(e.g.v!==t&&"none"!==e.i.g.j&&"number"==typeof t&&!isNaN(t)){e.g.v=t;var n=e.o,i=n.g.M;null!=i&&(le(t=n.h,"volumeChange",n={mediaPlayerVolume:i,deviceVolume:n.g.v}),fe(t,"volumeChange",n),q(t,ce(t,"volumeChange","native",n)))}},n=function(e){K(e)};Ae(window)?e.j=new Fe(t,n):Ue(window)&&(e.j=new We(t,n))}}(F);break;case"finishSession":var Q=i(r).next().value,Z=e.g,$=Xe(Z.g,Q),ee=Z.g;ee.g=Ke(ee),function(e){var t=ce(e,"sessionFinish","native");e.i.push(t),e.l.forEach((function(n){e.h(n.I,t.event)}))}($.i),$.h.v(),$.j&&($.j.stop(),$.j=null);break;case"impressionOccurred":var te=i(r).next().value;ut(e.g,te,"impression");break;case"loaded":var ne=i(r),de=ne.next().value,ve=ne.next().value;if(de){var ge={skippable:de.isSkippable,autoPlay:de.isAutoPlay,position:de.position};de.isSkippable&&(ge.skipOffset=de.skipOffset),ut(e.g,ve,"loaded",ge)}else ut(e.g,ve,"loaded");break;case"start":var pe=i(r),me=pe.next().value,ye=pe.next().value,xe=pe.next().value;ut(e.g,xe,"start",{duration:me,mediaPlayerVolume:ye});break;case"firstQuartile":var je=i(r).next().value;ut(e.g,je,"firstQuartile");break;case"midpoint":var Se=i(r).next().value;ut(e.g,Se,"midpoint");break;case"thirdQuartile":var Oe=i(r).next().value;ut(e.g,Oe,"thirdQuartile");break;case"complete":var ke=i(r).next().value;ut(e.g,ke,"complete");break;case"pause":var Ie=i(r).next().value;ut(e.g,Ie,"pause");break;case"resume":var Ee=i(r).next().value;ut(e.g,Ee,"resume");break;case"bufferStart":var Me=i(r).next().value;ut(e.g,Me,"bufferStart");break;case"bufferFinish":var Ce=i(r).next().value;ut(e.g,Ce,"bufferFinish");break;case"skipped":var _e=i(r).next().value;ut(e.g,_e,"skipped");break;case"volumeChange":var Ve=i(r),Ne=Ve.next().value,Re=Ve.next().value;ut(e.g,Re,"volumeChange",{mediaPlayerVolume:Ne});break;case"playerStateChange":var Le=i(r),ze=Le.next().value,Je=Le.next().value;ut(e.g,Je,"playerStateChange",{state:ze});break;case"adUserInteraction":var Ge=i(r),He=Ge.next().value,Ye=Ge.next().value;ut(e.g,Ye,"adUserInteraction",{interactionType:He});break;case"setClientInfo":var Qe=i(r),Ze=Qe.next().value,$e=Qe.next().value,qe=Qe.next().value,et=Qe.next().value;n(e.g.setClientInfo(et,Ze,$e,qe));break;case"injectVerificationScriptResources":var tt=i(r),it=tt.next().value,rt=tt.next().value;e.g.injectVerificationScriptResources(rt,it);break;case"setCreativeType":var ot=i(r),st=ot.next().value,at=ot.next().value;e.g.setCreativeType(at,st);break;case"setImpressionType":var ct=i(r),ht=ct.next().value,lt=ct.next().value;e.g.setImpressionType(lt,ht);break;case"setContentUrl":var ft=i(r),dt=ft.next().value,vt=ft.next().value;Xe(e.g.g,vt).g.C=dt;break;case"sessionError":var gt=i(r),pt=gt.next().value,mt=gt.next().value,yt=gt.next().value;e.g.error(yt,pt,mt)}}function gt(e){return"\n        name: "+e.name+"\n        message: "+e.message+"\n        filename: "+e.filename+"\n        lineNumber: "+e.lineNumber+"\n        columnNumber: "+e.columnNumber+"\n        stack: "+e.stack+"\n        toString(): "+e.toString()}function pt(){var e=It,t=kt,n=this,i=void 0===i?H:i;this.j=e,this.g=t,this.l={},this.m={},this.i=new tt,i.omid=i.omid||{},i.omid.v1_VerificationServiceCommunication=this.i,this.h=null,i&&i.addEventListener&&i.postMessage&&(this.h=new st(i)),this.i.g=function(e,t){yt(n,e,t,n.i)},this.h&&(this.h.g=function(e,t){n.h&&yt(n,e,t,n.h)})}function mt(e){e({adSessionId:"",timestamp:(new Date).getTime(),type:"sessionError",data:{errorType:"generic",message:"Registration to session events is only allowed for verification clients injected by the OM-SDK service itself. Please note that in a future release registration in this manner will be rejected."}})}function yt(e,t,n,r){function o(){var e=new Qe(s,"response",u,ht(u,v.apply(0,arguments)));r.h(e,n)}var s=t.h,a=t.method,u=t.version;if(t=lt(u,t.g),null!=it(a,"VerificationService.")){a=it(a,"VerificationService.");try{switch(a){case"addEventListener":var c=i(t);!function(e,t,n,i){e=Ye(e.j,i),void 0!==i&&e.g.u.has(i)?(e=e.i,"media"===t||"video"===t?function(e,t,n){Object.keys(b).forEach((function(i){var r={type:i=b[i],U:n,I:t};e.j.push(r),ee(e,i,r)}))}(e,n,i):(n={type:t,U:i,I:n},e.j.push(n),ee(e,t,n))):mt(n)}(e,c.next().value,o,c.next().value||bt(n));break;case"addSessionListener":var h=i(t);!function(e,t,n,i){e=Ye(e.j,i),void 0!==i&&e.g.u.has(i)?He(e,t,n,i):mt(t)}(e,o,h.next().value,h.next().value||bt(n));break;case"sendUrl":!function(e,t,n,i){!function(e,t,n,i){if(e.g.document&&e.g.document.body){var r=e.g.document.createElement("img");r.width=1,r.height=1,r.style.display="none",r.src=t,n&&r.addEventListener("load",(function(){return n()})),i&&r.addEventListener("error",(function(){return i()})),e.g.document.body.appendChild(r)}else pe(e,"sendUrl")(t,n,i)}(e.g,t,n,i)}(e,i(t).next().value,(function(){return o(!0)}),(function(){return o(!1)}));break;case"setTimeout":var l=i(t),f=l.next().value,d=l.next().value;e.l[f]=ge(e.g,"setTimeout")(o,d);break;case"clearTimeout":var g=i(t).next().value;!function(e,t){ge(e,"clearTimeout")(t)}(e.g,e.l[g]);break;case"setInterval":var p=i(t),m=p.next().value,y=p.next().value;e.m[m]=e.setInterval(o,y);break;case"clearInterval":var w=i(t).next().value;e.clearInterval(e.m[w]);break;case"injectJavaScriptResource":!function(e,t,n,i){pe(e.g,"downloadJavaScriptResource")(t,(function(e){return o(!0,e)}),(function(){return o(!1)}))}(e,i(t).next().value);break;case"getVersion":o("1.5.0-iab4484")}}catch(e){r.h(new Qe(s,"error",u,"\n              name: "+e.name+"\n              message: "+e.message+"\n              filename: "+e.filename+"\n              lineNumber: "+e.lineNumber+"\n              columnNumber: "+e.columnNumber+"\n              stack: "+e.stack+"\n              toString(): "+e.toString()+"\n          "),n)}}}function bt(e){for(var t=J().g,n=i(t.keys()),r=n.next();!r.done;r=n.next()){r=r.value;var o=t.get(r);if(o){if(o.contentWindow===e)return r;try{if(o.contentWindow.Object.prototype.isPrototypeOf(e))return r}catch(e){}}}}function wt(e){var t={};return(t.app="omid_v1_present_app",t.web="omid_v1_present_web",t)[e]}function xt(e,t){e.document.write('<iframe style="display:none" id="'+t+'" name="'+t+'" sandbox></iframe>')}function jt(e,t){var n=e.document.createElement("iframe");n.id=t,n.name=t,n.style.display="none",n.sandbox="",e.document.body.appendChild(n)}u.Object.defineProperties(X.prototype,{event:{configurable:!0,enumerable:!0,get:function(){return this.g}},origin:{configurable:!0,enumerable:!0,get:function(){return this.h}}}),$.prototype.h=function(e){var t=v.apply(1,arguments);try{e.apply(null,r(t))}catch(e){Q(e)}},ve.prototype.setInterval=function(e,t){return ge(this,"setInterval")(e,t)},ve.prototype.clearInterval=function(e){ge(this,"clearInterval")(e)},ye.prototype.v=function(){this.o&&(this.j.document.removeEventListener("visibilitychange",this.o),this.o=void 0)},ye.prototype.s=function(){var e=this;this.o||(this.o=function(){e.i.B=e.j.document.hidden?"backgrounded":"foregrounded",xe(e)},this.j.document.addEventListener("visibilitychange",this.o),this.o())},d(Oe,ye),Oe.prototype.v=function(){void 0!==this.l&&(this.$.clearInterval(this.l),this.l=void 0),ye.prototype.v.call(this)},Oe.prototype.s=function(){var e=this;ye.prototype.s.call(this),null==this.h?this.l=void 0:void 0===this.l&&(this.l=this.$.setInterval((function(){return ke(e)}),200),ke(this))},Oe.prototype.S=function(){if(this.m){var e=Se(this);if(e){this.g.R=!1,e.R=!0;for(var t=!1,n=0;n<this.g.N.length;n++)if(this.g.N[n].R){this.g.N[n]=e,t=!0;break}t||this.g.N.push(e)}else this.g.R=!0;t=this.u,n=this.i.B;var i=this.i.H,r=this.O();e=new C;var o=new x(this.m,!1);if(V(e,o),z(t,o,e,i),r)if(o.aa)U(e,"backgrounded"),U(e,"noOutputDevice");else if("backgrounded"===n)U(e,"backgrounded");else if(void 0!==e.g){for(t=0;t<e.o.length;t++)P(e,e.o[t])&&e.v.push(e.o[t]);for(t=0;t<e.s.length;t++){if(n=P(e,e.s[t])){e:{for(n=e.s[t],i=0;i<e.j.length;i++)if(e.j[i].T(n)){n=!0;break e}n=!1}n=!n}n&&(U(e,"obstructed"),e.j.push(e.s[t]))}A(e)}else U(e,"notFound");else e.m=["unmeasurable"],e.l=void 0,e.u=0,e.j=[],e.g&&(t=e.g,t=new x(((n={}).x=0,n.y=0,n.width=t.width,n.height=t.height,n),t.g),e.g=t),e.h={x:0,y:0,endX:0,endY:0,width:0,height:0};this.M=e}},Oe.prototype.O=function(){return Ie(this)},d(Ee,ye),Ee.prototype.v=function(){this.l&&this.l.disconnect(),Me(this),ye.prototype.v.call(this)},Ee.prototype.s=function(){if(ye.prototype.s.call(this),this.h&&(this.l||(this.l=function(e){return new e.j.IntersectionObserver((function(t){try{if(t.length){for(var n,i=t[0],r=1;r<t.length;r++)t[r].time>i.time&&(i=t[r]);n=i,e.m=Ne(n.rootBounds),e.g=Ne(n.boundingClientRect),e.G=Ne(n.intersectionRect),e.Y=!!n.isIntersecting,xe(e)}}catch(t){e.v(),ne(e.X,"generic","Problem handling IntersectionObserver callback: "+t.message)}}),{root:null,rootMargin:"0px",threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})}(this)),Ce(this),_e(this.h)&&function(e){e.j.ResizeObserver?e.B||(e.B=function(e,t){return new e.j.ResizeObserver(t)}(e,(function(){return Ve(e)})),e.B.observe(e.h)):(e.C||(e.C=function(){return Ve(e)},(0,e.j.addEventListener)("resize",e.C)),e.u||(e.u=new MutationObserver((function(){return Ve(e)})),e.u.observe(e.h,{childList:!1,attributes:!0,subtree:!1})))}(this),"backgrounded"===this.i.B)){var e=Ne(new W(0,0));this.G=this.g=this.m=e,xe(this)}},Ee.prototype.S=function(){if(this.g&&this.G){var e=Se(this);if(e){var t=e,n=this.G,i=Math.max(e.x,n.x),r=Math.max(e.y,n.y),o=Math.min(e.J,n.J);e=Math.min(e.K,n.K),(i=o<=i||e<=r?null:new x(((n={}).x=i,n.y=r,n.width=Math.abs(o-i),n.height=Math.abs(e-r),n),!1))||(i=new x({x:0,y:0,width:0,height:0},!1))}else t=this.g,i=this.G;r=new C,this.m&&V(r,this.m),(o="backgrounded"==this.i.B)&&U(r,"backgrounded"),r.g=t,r.h=i,A(r),this.Y?!o&&I(r.g)?U(r,"hidden"):o||100===r.u||U(r,"clipped"):U(r,"viewport"),this.M=r}},Ee.prototype.O=function(){return!0},Fe.prototype.stop=function(){this.g&&this.g.cancel&&this.g.cancel(),this.g=null},Fe.prototype.error=function(e){this.stop(),this.h&&this.h(e)},We.prototype.stop=function(){void 0!==this.i&&"function"==typeof this.j.clearInterval&&this.j.clearInterval(this.i),this.h=this.g=this.i=void 0},We.prototype.validate=function(e){return Ue(e)&&De(e)&&"object"==typeof Pe(e).tvaudiocontrol&&"function"==typeof e.setInterval&&"function"==typeof e.clearInterval},We.prototype.error=function(e){this.stop(),this.h&&this.h(e)},(t=Ge.prototype).setSlotElement=function(e){e&&e.tagName?(this.g.m=e,this.h&&we(this.h)):K("setSlotElement called with a non-HTMLElement.  It will be ignored.")},t.setElementBounds=function(e){this.g.o=e,this.h&&we(this.h),this.h&&xe(this.h)},t.error=function(e,t){ne(this.i,e,t)},t.injectVerificationScriptResources=function(e){var t=this.l;if(t.h.push.apply(t.h,r(e)),this.m)try{ze(this.l)}catch(e){K(e.message)}},t.setCreativeType=function(e,t){t=void 0===t?null:t,this.g.g&&!this.g.h||(this.g.h=e,"video"==e||"audio"==e?this.g.g="video":"htmlDisplay"==e||"nativeDisplay"==e?this.g.g="display":"definedByJavaScript"==e&&t&&(this.g.g="none"==t?"display":"video"))},t.setImpressionType=function(e){this.g.g&&!this.g.h||(this.g.G=e)},t.setClientInfo=function(e,t,n){var i=this.g.i||{};return i.omidJsInfo=Object.assign({},i.omidJsInfo,{sessionClientVersion:e,partnerName:t,partnerVersion:n}),this.g.i=i,this.g.i.omidJsInfo.serviceVersion},d(tt,et),tt.prototype.h=function(e,t){if(!(t=void 0===t?this.i:t))throw Error("Message destination must be defined at construction time or when sending the message.");t.handleExportedMessage(qe(e),this)},tt.prototype.j=function(e,t){Ze(e)&&this.g&&this.g($e(e),t)},rt.prototype.g=function(e){var t=v.apply(1,arguments);if("registerSessionObserver"===e)var n=t.slice(1);else n=t;return this.h("SessionService."+e,this.j.bind(this,e,t),n)},rt.prototype.j=function(e,t,n){"registerSessionObserver"===e&&(e=i(t).next().value)(n)},d(st,et),st.prototype.h=function(e,t){if(!(t=void 0===t?this.i:t))throw Error("Message destination must be defined at construction time or when sending the message.");t.postMessage(qe(e),"*")},(t=at.prototype).registerSessionObserver=function(e,t){He(Xe(this.g,e),t)},t.setSlotElement=function(e,t){Xe(this.g,e).setSlotElement(t)},t.setElementBounds=function(e,t){Xe(this.g,e).setElementBounds(t)},t.error=function(e,t,n){Xe(this.g,e).error(t,n)},t.injectVerificationScriptResources=function(e,t){Xe(this.g,e).injectVerificationScriptResources(t)},t.setCreativeType=function(e,t,n){n=void 0===n?null:n,Xe(this.g,e).setCreativeType(t,n)},t.setImpressionType=function(e,t){Xe(this.g,e).setImpressionType(t)},t.setClientInfo=function(e,t,n,i){var o=this.g;if(null==e)e=o.g;else{var s=[].concat(r(o.h.values())).includes(o.g)?Ke(o):o.g;o.h.set(e,s),e=s}return e.setClientInfo(t,n,i)},ft.prototype.l=function(e,t){null!=nt(e.method)&&dt(this,e,t,this.j)},ft.prototype.o=function(e,t){if(null!=nt(e.method)){if(!this.m||t!==this.m)return K("Unrecognized session client window. Cross-origin session clients must register via the setSessionClientWindow API. See https://interactiveadvertisingbureau.github.io/Open-Measurement-SDKJS/iframes.html#om-sdk-js-session-client"),!1;dt(this,e,t,this.i)}},pt.prototype.setInterval=function(e,t){return this.g.setInterval(e,t)},pt.prototype.clearInterval=function(e){this.g.clearInterval(e)};var St,Ot,kt=new ve,It=new function(){this.i=kt,this.h=new Map,this.g=Ke(this)},Et=new at;new pt,new ft,Ot="web",(St=H).frames&&St.document&&!["omid_v1_present","omid_v1_present_web","omid_v1_present_app"].some((function(e){return!!St.frames[e]}))&&(null==St.document.body&&"MutationObserver"in St?function(e,t){var n=new MutationObserver((function(i){i.forEach((function(i){"BODY"===i.addedNodes[0].nodeName&&(i=wt(t),jt(e,"omid_v1_present"),jt(e,i),n.disconnect())}))}));n.observe(e.document.documentElement,{childList:!0})}(St,Ot):(Ot=wt(Ot),St.document.body?(jt(St,"omid_v1_present"),jt(St,Ot)):(xt(St,"omid_v1_present"),xt(St,Ot))))}).call(this,this);