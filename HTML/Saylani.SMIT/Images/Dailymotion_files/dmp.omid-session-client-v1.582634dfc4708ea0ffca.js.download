!function(e,t,n){if("object"==typeof n&&"string"!=typeof n.nodeName)t(e,n);else{n={};var r=["1.5.0-iab4484"];function i(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=i(e[t]));return Object.freeze(e)}for(var o in r.push("default"),t(e,n),n)n.hasOwnProperty(o)&&(null==Object.getOwnPropertyDescriptor(e,o)&&Object.defineProperty(e,o,{value:{}}),r.forEach((function(t){if(null==Object.getOwnPropertyDescriptor(e[o],t)){var r=i(n[o]);Object.defineProperty(e[o],t,{get:function(){return r},enumerable:!0})}})))}}("undefined"==typeof global?this:global,(function(e,t){var n=n||{};n.scope={},n.createTemplateTagFirstArg=function(e){return e.raw=e},n.createTemplateTagFirstArgWithRaw=function(e,t){return e.raw=t,e},n.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},n.arrayIterator=function(e){return{next:n.arrayIteratorImpl(e)}},n.makeIterator=function(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if("number"==typeof e.length)return n.arrayIterator(e);throw Error(String(e)+" is not an iterable or ArrayLike")},n.arrayFromIterator=function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n},n.arrayFromIterable=function(e){return e instanceof Array?e:n.arrayFromIterator(n.makeIterator(e))},n.ASSUME_ES5=!1,n.ASSUME_NO_NATIVE_MAP=!1,n.ASSUME_NO_NATIVE_SET=!1,n.SIMPLE_FROUND_POLYFILL=!1,n.ISOLATE_POLYFILLS=!1,n.FORCE_POLYFILL_PROMISE=!1,n.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,n.objectCreate=n.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(e){var t=function(){};return t.prototype=e,new t},n.defineProperty=n.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},n.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},n.global=n.getGlobal(this),n.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),n.TRUST_ES6_POLYFILLS=!n.ISOLATE_POLYFILLS||n.IS_SYMBOL_NATIVE,n.polyfills={},n.propertyToPolyfillSymbol={},n.POLYFILL_PREFIX="$jscp$",n.polyfill=function(e,t,r,i){t&&(n.ISOLATE_POLYFILLS?n.polyfillIsolated(e,t,r,i):n.polyfillUnisolated(e,t,r,i))},n.polyfillUnisolated=function(e,t,r,i){for(r=n.global,e=e.split("."),i=0;i<e.length-1;i++){var o=e[i];if(!(o in r))return;r=r[o]}(t=t(i=r[e=e[e.length-1]]))!=i&&null!=t&&n.defineProperty(r,e,{configurable:!0,writable:!0,value:t})},n.polyfillIsolated=function(e,t,r,i){var o=e.split(".");e=1===o.length,i=o[0],i=!e&&i in n.polyfills?n.polyfills:n.global;for(var s=0;s<o.length-1;s++){var a=o[s];if(!(a in i))return;i=i[a]}o=o[o.length-1],null!=(t=t(r=n.IS_SYMBOL_NATIVE&&"es6"===r?i[o]:null))&&(e?n.defineProperty(n.polyfills,o,{configurable:!0,writable:!0,value:t}):t!==r&&(void 0===n.propertyToPolyfillSymbol[o]&&(r=1e9*Math.random()>>>0,n.propertyToPolyfillSymbol[o]=n.IS_SYMBOL_NATIVE?n.global.Symbol(o):n.POLYFILL_PREFIX+r+"$"+o),n.defineProperty(i,n.propertyToPolyfillSymbol[o],{configurable:!0,writable:!0,value:t})))},n.getConstructImplementation=function(){if(n.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(function(){function e(){}return new e,Reflect.construct(e,[],(function(){})),new e instanceof e}())return Reflect.construct;var e=Reflect.construct;return function(t,n,r){return t=e(t,n),r&&Reflect.setPrototypeOf(t,r.prototype),t}}return function(e,t,r){return void 0===r&&(r=e),r=n.objectCreate(r.prototype||Object.prototype),Function.prototype.apply.call(e,r,t)||r}},n.construct=n.getConstructImplementation(),n.underscoreProtoCanBeSet=function(){var e={};try{return e.__proto__={a:!0},e.a}catch(e){}return!1},n.setPrototypeOf=n.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:n.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,n.inherits=function(e,t){if(e.prototype=n.objectCreate(t.prototype),e.prototype.constructor=e,n.setPrototypeOf){var r=n.setPrototypeOf;r(e,t)}else for(r in t)if("prototype"!=r)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,r);i&&Object.defineProperty(e,r,i)}else e[r]=t[r];e.superClass_=t.prototype},n.getRestArguments=function(){for(var e=Number(this),t=[],n=e;n<arguments.length;n++)t[n-e]=arguments[n];return t},n.polyfill("Reflect",(function(e){return e||{}}),"es6","es3"),n.polyfill("Reflect.construct",(function(e){return n.construct}),"es6","es3"),n.polyfill("Reflect.setPrototypeOf",(function(e){if(e)return e;if(n.setPrototypeOf){var t=n.setPrototypeOf;return function(e,n){try{return t(e,n),!0}catch(e){return!1}}}return null}),"es6","es5"),n.initSymbol=function(){},n.polyfill("Symbol",(function(e){if(e)return e;var t=function(e,t){this.$jscomp$symbol$id_=e,n.defineProperty(this,"description",{configurable:!0,writable:!0,value:t})};t.prototype.toString=function(){return this.$jscomp$symbol$id_};var r="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0,o=function(e){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return new t(r+(e||"")+"_"+i++,e)};return o}),"es6","es3"),n.polyfill("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<t.length;r++){var i=n.global[t[r]];"function"==typeof i&&"function"!=typeof i.prototype[e]&&n.defineProperty(i.prototype,e,{configurable:!0,writable:!0,value:function(){return n.iteratorPrototype(n.arrayIteratorImpl(this))}})}return e}),"es6","es3"),n.iteratorPrototype=function(e){return(e={next:e})[Symbol.iterator]=function(){return this},e},n.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i},n.polyfill("Array.prototype.keys",(function(e){return e||function(){return n.iteratorFromArray(this,(function(e){return e}))}}),"es6","es3"),n.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.polyfill("Object.values",(function(e){return e||function(e){var t,r=[];for(t in e)n.owns(e,t)&&r.push(e[t]);return r}}),"es8","es3"),n.checkEs6ConformanceViaProxy=function(){try{var e={},t=Object.create(new n.global.Proxy(e,{get:function(n,r,i){return n==e&&"q"==r&&i==t}}));return!0===t.q}catch(e){return!1}},n.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1,n.ES6_CONFORMANCE=n.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&n.checkEs6ConformanceViaProxy(),n.polyfill("WeakMap",(function(e){function t(){}function r(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function i(e){if(!n.owns(e,s)){var r=new t;n.defineProperty(e,s,{value:r})}}function o(e){if(!n.ISOLATE_POLYFILLS){var r=Object[e];r&&(Object[e]=function(e){return e instanceof t?e:(Object.isExtensible(e)&&i(e),r(e))})}}if(n.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&n.ES6_CONFORMANCE)return e}else if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([[t,2],[n,3]]);return 2==r.get(t)&&3==r.get(n)&&(r.delete(t),r.set(n,4),!r.has(t)&&4==r.get(n))}catch(e){return!1}}())return e;var s="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var a=0,u=function(e){if(this.id_=(a+=Math.random()+1).toString(),e){e=n.makeIterator(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}};return u.prototype.set=function(e,t){if(!r(e))throw Error("Invalid WeakMap key");if(i(e),!n.owns(e,s))throw Error("WeakMap key fail: "+e);return e[s][this.id_]=t,this},u.prototype.get=function(e){return r(e)&&n.owns(e,s)?e[s][this.id_]:void 0},u.prototype.has=function(e){return r(e)&&n.owns(e,s)&&n.owns(e[s],this.id_)},u.prototype.delete=function(e){return!!(r(e)&&n.owns(e,s)&&n.owns(e[s],this.id_))&&delete e[s][this.id_]},u}),"es6","es3"),n.MapEntry=function(){},n.polyfill("Map",(function(e){if(n.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(e&&n.ES6_CONFORMANCE)return e}else if(function(){if(n.ASSUME_NO_NATIVE_MAP||!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),r=new e(n.makeIterator([[t,"s"]]));if("s"!=r.get(t)||1!=r.size||r.get({x:4})||r.set({x:4},"t")!=r||2!=r.size)return!1;var i=r.entries(),o=i.next();return!o.done&&o.value[0]==t&&"s"==o.value[1]&&!((o=i.next()).done||4!=o.value[0].x||"t"!=o.value[1]||!i.next().done)}catch(e){return!1}}())return e;var t=new WeakMap,r=function(e){if(this.data_={},this.head_=s(),this.size=0,e){e=n.makeIterator(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}};r.prototype.set=function(e,t){var n=i(this,e=0===e?0:e);return n.list||(n.list=this.data_[n.id]=[]),n.entry?n.entry.value=t:(n.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:e,value:t},n.list.push(n.entry),this.head_.previous.next=n.entry,this.head_.previous=n.entry,this.size++),this},r.prototype.delete=function(e){return!(!(e=i(this,e)).entry||!e.list||(e.list.splice(e.index,1),e.list.length||delete this.data_[e.id],e.entry.previous.next=e.entry.next,e.entry.next.previous=e.entry.previous,e.entry.head=null,this.size--,0))},r.prototype.clear=function(){this.data_={},this.head_=this.head_.previous=s(),this.size=0},r.prototype.has=function(e){return!!i(this,e).entry},r.prototype.get=function(e){return(e=i(this,e).entry)&&e.value},r.prototype.entries=function(){return o(this,(function(e){return[e.key,e.value]}))},r.prototype.keys=function(){return o(this,(function(e){return e.key}))},r.prototype.values=function(){return o(this,(function(e){return e.value}))},r.prototype.forEach=function(e,t){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},r.prototype[Symbol.iterator]=r.prototype.entries;var i=function(e,r){var i=r&&typeof r;"object"==i||"function"==i?t.has(r)?i=t.get(r):(i=""+ ++a,t.set(r,i)):i="p_"+r;var o=e.data_[i];if(o&&n.owns(e.data_,i))for(e=0;e<o.length;e++){var s=o[e];if(r!=r&&s.key!=s.key||r===s.key)return{id:i,list:o,index:e,entry:s}}return{id:i,list:o,index:-1,entry:void 0}},o=function(e,t){var r=e.head_;return n.iteratorPrototype((function(){if(r){for(;r.head!=e.head_;)r=r.previous;for(;r.next!=r.head;)return r=r.next,{done:!1,value:t(r)};r=null}return{done:!0,value:void 0}}))},s=function(){var e={};return e.previous=e.next=e.head=e},a=0;return r}),"es6","es3");var r={AdEventType:{IMPRESSION:"impression",LOADED:"loaded",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction",STATE_CHANGE:"stateChange"},MediaEventType:{LOADED:"loaded",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"},ImpressionType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other"},ErrorType:{GENERIC:"generic",VIDEO:"video",MEDIA:"media"},AdSessionType:{NATIVE:"native",HTML:"html",JAVASCRIPT:"javascript"},EventOwner:{NATIVE:"native",JAVASCRIPT:"javascript",NONE:"none"},SessionOwner:{JAVASCRIPT:"javascript",NATIVE:"native"},AccessMode:{FULL:"full",DOMAIN:"domain",LIMITED:"limited"},AppState:{BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded"},DeviceLockState:{LOCKED:"locked",UNLOCKED:"unlocked"},Environment:{APP:"app",WEB:"web"},DeviceCategory:{CTV:"ctv",DESKTOP:"desktop",MOBILE:"mobile",OTHER:"other"},InteractionType:{CLICK:"click",INVITATION_ACCEPT:"invitationAccept"},CreativeType:{DEFINED_BY_JAVASCRIPT:"definedByJavaScript",HTML_DISPLAY:"htmlDisplay",NATIVE_DISPLAY:"nativeDisplay",VIDEO:"video",AUDIO:"audio"},MediaType:{DISPLAY:"display",VIDEO:"video"},Reason:{NOT_FOUND:"notFound",HIDDEN:"hidden",BACKGROUNDED:"backgrounded",PICTURE_IN_PICTURE:"pictureInPicture",DEVICE_LOCKED:"deviceLocked",VIEWPORT:"viewport",OBSTRUCTED:"obstructed",CLIPPED:"clipped",UNMEASURABLE:"unmeasurable",NO_WINDOW_FOCUS:"noWindowFocus",NO_OUTPUT_DEVICE:"noOutputDevice"},SupportedFeatures:{CONTAINER:"clid",VIDEO:"vlid"},VideoPosition:{PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll",STANDALONE:"standalone"},VideoPlayerState:{MINIMIZED:"minimized",COLLAPSED:"collapsed",NORMAL:"normal",EXPANDED:"expanded",FULLSCREEN:"fullscreen"},NativeViewKeys:{X:"x",LEFT:"left",Y:"y",TOP:"top",WIDTH:"width",HEIGHT:"height",AD_SESSION_ID:"adSessionId",IS_FRIENDLY_OBSTRUCTION_FOR:"isFriendlyObstructionFor",CLIPS_TO_BOUNDS:"clipsToBounds",CHILD_VIEWS:"childViews",END_X:"endX",END_Y:"endY",OBSTRUCTIONS:"obstructions",OBSTRUCTION_CLASS:"obstructionClass",OBSTRUCTION_PURPOSE:"obstructionPurpose",OBSTRUCTION_REASON:"obstructionReason",PIXELS:"pixels",HAS_WINDOW_FOCUS:"hasWindowFocus"},MeasurementStateChangeSource:{CONTAINER:"container",CREATIVE:"creative"},ElementMarkup:{OMID_ELEMENT_CLASS_NAME:"omid-element"},CommunicationType:{NONE:"NONE",DIRECT:"DIRECT",POST_MESSAGE:"POST_MESSAGE"},OmidImplementer:{OMSDK:"omsdk"},MessageMethod:{IDENTIFY_SERVICE_WINDOW:"identifyServiceWindow"}},i="omid_message_guid",o="omid_message_method",s="omid_message_version",a="omid_message_args",u=function(e,t,n,r){this.guid=e,this.method=t,this.version=n,this.args=r};u.isValidSerializedMessage=function(e){return!!e&&void 0!==e[i]&&void 0!==e[o]&&void 0!==e[s]&&"string"==typeof e[i]&&"string"==typeof e[o]&&"string"==typeof e[s]&&(void 0===e[a]||void 0!==e[a])},u.deserialize=function(e){return new u(e[i],e[o],e[s],e[a])},u.prototype.serialize=function(){var e={};return e[i]=this.guid,e[o]=this.method,e[s]=this.version,void 0!==this.args&&(e[a]=this.args),e};var c=function(e){this.to=e,this.communicationType_=r.CommunicationType.NONE};c.prototype.sendMessage=function(e,t){},c.prototype.handleMessage=function(e,t){this.onMessage&&this.onMessage(e,t)},c.prototype.serialize=function(e){return JSON.stringify(e)},c.prototype.deserialize=function(e){return JSON.parse(e)},c.prototype.isDirectCommunication=function(){return this.communicationType_===r.CommunicationType.DIRECT},c.prototype.isCrossOrigin=function(){};var d={};function l(e,t){if(!t)throw Error("Value for "+e+" is undefined, null or blank.");if("string"!=typeof t&&!(t instanceof String))throw Error("Value for "+e+" is not a string.");if(""===t.trim())throw Error("Value for "+e+" is empty string.")}function p(e,t){if(null==t)throw Error("Value for "+e+" is undefined or null")}function f(e,t){if(null==t)throw Error(e+" must not be null or undefined.");if("number"!=typeof t||isNaN(t))throw Error("Value for "+e+" is not a number")}function h(e,t,n,r){if(f(e,t),t<n||t>r)throw Error("Value for "+e+" is outside the range ["+n+","+r+"]")}function E(e,t){return e&&(e[t]||(e[t]={}))}function y(e,n,r){(r=void 0===r?void 0===t?null:t:r)&&((e=e.split(".")).slice(0,e.length-1).reduce(E,r)[e[e.length-1]]=n)}d.assertTruthyString=l,d.assertNotNullObject=p,d.assertNumber=f,d.assertNumberBetween=h,d.assertFunction=function(e,t){if(!t)throw Error(e+" must not be truthy.")},d.assertPositiveNumber=function(e,t){if(f(e,t),0>t)throw Error(e+" must be a positive number.")},y("OmidSessionClient.Partner",(function(e,t){l("Partner.name",e),l("Partner.version",t),this.name=e,this.version=t}));var _=function(e,t,n,i){i=void 0===i?r.AccessMode.FULL:i,l("VerificationScriptResource.resourceUrl",e),this.resourceUrl=e,this.vendorKey=t,this.verificationParameters=n,this.accessMode=i};_.prototype.toJSON=function(){return{accessMode:this.accessMode,resourceUrl:this.resourceUrl,vendorKey:this.vendorKey,verificationParameters:this.verificationParameters}},y("OmidSessionClient.VerificationScriptResource",_);var S=function(e,t,n,r){n=void 0===n?null:n,r=void 0===r?null:r,p("Context.partner",e),this.partner=e,this.verificationScriptResources=t,this.videoElement=this.slotElement=null,this.contentUrl=n,this.customReferenceData=r,this.underEvaluation=!1,this.serviceWindow=null};S.prototype.setVideoElement=function(e){p("Context.videoElement",e),this.videoElement=e},S.prototype.setSlotElement=function(e){p("Context.slotElement",e),this.slotElement=e},S.prototype.setServiceWindow=function(e){p("Context.serviceWindow",e),this.serviceWindow=e},y("OmidSessionClient.Context",S);var m={};m.omidGlobal=function(){if(void 0!==e&&e)return e;if("undefined"!=typeof global&&global)return global;if("undefined"!=typeof window&&window)return window;if("undefined"!=typeof globalThis&&globalThis)return globalThis;var t=Function("return this")();if(t)return t;throw Error("Could not determine global object context.")}();var v={sessionError:"reportError"},I=Object.keys(r.MediaEventType).map((function(e){return r.MediaEventType[e]})),O=["impressionOccurred"],g=function(e){e=void 0===e?m.omidGlobal:e,this.interfaceRoot_=e.omidSessionInterface};function A(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return"y"===e?(3&t|8).toString(16):t.toString(16)}))}g.prototype.isSupported=function(){return null!=this.interfaceRoot_},g.prototype.sendMessage=function(e,t,r){if("registerSessionObserver"==e&&(r=[t]),v[e]&&(e=v[e]),t=this.interfaceRoot_,0<=O.indexOf(e)&&(t=t.adEvents),0<=I.indexOf(e)&&(t=t.mediaEvents),!(t=t[e]))throw Error("Unrecognized method name: "+e+".");t.apply(null,n.arrayFromIterable(r))};var T={};function M(){var e=n.getRestArguments.apply(0,arguments);b((function(){throw new(Function.prototype.bind.apply(Error,[null,"Could not complete the test successfully - "].concat(n.arrayFromIterable(e))))}),(function(){return console.error.apply(console,n.arrayFromIterable(e))}))}function b(e,t){"undefined"!=typeof jasmine&&jasmine?e():"undefined"!=typeof console&&console&&console.error&&t()}T.error=M,T.debug=function(){var e=n.getRestArguments.apply(0,arguments);b((function(){}),(function(){return console.error.apply(console,n.arrayFromIterable(e))}))};var N="1.5.0-iab4484",R={},C=3;function P(e){return/\d+\.\d+\.\d+(-.*)?/.test(e)}function w(e,t){e=e.split("-")[0].split("."),t=t.split("-")[0].split(".");for(var n=0;n<C;n++){var r=parseInt(e[n],10),i=parseInt(t[n],10);if(r>i)break;if(r<i)return!1}return!0}R.isValidVersion=P,R.versionGreaterOrEqual=w;var D={},L="1.0.3";function x(e,t){return P(e)&&w(e,L)?t:JSON.stringify(t)}function F(e,t){return P(e)&&w(e,L)?t||[]:t&&"string"==typeof t?JSON.parse(t):[]}D.serializeMessageArgs=x,D.deserializeMessageArgs=F;var V={},U="SessionService.",W="VerificationService.";function j(e){return Y(e,U)}function k(e){return G(e,U)}function B(e){return G(e,W)}function Y(e,t){return t+e}function G(e,t){return(e=e.match(new RegExp("^"+t+"(.*)")))&&e[1]}V.getPrefixedSessionServiceMethod=j,V.getPrefixedVerificationServiceMethod=function(e){return Y(e,W)},V.getUnprefixedSessionServiceMethod=k,V.getUnprefixedVerificationServiceMethod=B,V.isPrefixedSessionServiceMethod=function(e){return null!=k(e)},V.isPrefixedVerificationServiceMethod=function(e){return null!=B(e)};var z={};function H(e){return null!=e&&void 0!==e.top&&null!=e.top}function J(e){if(e===m.omidGlobal)return!1;try{if(void 0===e.location.hostname)return!0;!function(e){""===e.x||e.x}(e)}catch(e){return!0}return!1}function $(e){return void 0===e&&"undefined"!=typeof window&&window&&(e=window),H(e)?e:m.omidGlobal}function K(e){return H(e)?e.top:m.omidGlobal}z.evaluatePageUrl=function(e){if(!H(e))return null;try{var t=e.top;return J(t)?null:t.location.href}catch(e){return null}},z.isCrossOrigin=J,z.removeDomElements=function(e){return e.type===r.AdEventType.SESSION_START&&(void 0!==e.data.context.videoElement&&(e.data.context.videoElement="Video Element ("+e.data.context.videoElement.id+")"),void 0!==e.data.context.slotElement&&(e.data.context.slotElement="Slot Element ("+e.data.context.slotElement.id+")")),e},z.resolveGlobalContext=$,z.resolveTopWindowContext=K,z.isTopWindowAccessible=function(e){try{return!!e.top.location.href}catch(e){return!1}};var X=function(e){c.call(this,e),this.communicationType_=r.CommunicationType.DIRECT,this.handleExportedMessage=X.prototype.handleExportedMessage.bind(this)};n.inherits(X,c),X.prototype.sendMessage=function(e,t){if(!(t=void 0===t?this.to:t))throw Error("Message destination must be defined at construction time or when sending the message.");t.handleExportedMessage(e.serialize(),this)},X.prototype.handleExportedMessage=function(e,t){u.isValidSerializedMessage(e)&&this.handleMessage(u.deserialize(e),t)},X.prototype.isCrossOrigin=function(){return!1};var Q=function(e,t){t=void 0===t?m.omidGlobal:t,c.call(this,t);var n=this;this.communicationType_=r.CommunicationType.POST_MESSAGE,e.addEventListener("message",(function(e){if("object"==typeof e.data){var t=e.data;u.isValidSerializedMessage(t)&&(t=u.deserialize(t),e.source&&n.handleMessage(t,e.source))}}))};n.inherits(Q,c),Q.isCompatibleContext=function(e){return!!(e&&e.addEventListener&&e.postMessage)},Q.prototype.sendMessage=function(e,t){if(!(t=void 0===t?this.to:t))throw Error("Message destination must be defined at construction time or when sending the message.");t.postMessage(e.serialize(),"*")},Q.prototype.isCrossOrigin=function(){return!this.to||J(this.to)};var q={OMID_PRESENT_FRAME_NAME:"omid_v1_present",OMID_PRESENT_FRAME_NAME_WEB:"omid_v1_present_web",OMID_PRESENT_FRAME_NAME_APP:"omid_v1_present_app",getEnvironmentIframeName:function(e){var t={};return(t[r.Environment.APP]=q.OMID_PRESENT_FRAME_NAME_APP,t[r.Environment.WEB]=q.OMID_PRESENT_FRAME_NAME_WEB,t)[e]}};function Z(e,t){try{return e.frames&&!!e.frames[t]}catch(e){return!1}}function ee(e,t){e.document.write('<iframe style="display:none" id="'+t+'" name="'+t+'" sandbox></iframe>')}q.isOmidPresent=function(e){return[q.OMID_PRESENT_FRAME_NAME,q.OMID_PRESENT_FRAME_NAME_WEB,q.OMID_PRESENT_FRAME_NAME_APP].some((function(t){return Z(e,t)}))},q.getOmidEnvironment=function(e){for(var t=n.makeIterator(Object.values(r.Environment)),i=t.next();!i.done;i=t.next())if(i=i.value,Z(e,q.getEnvironmentIframeName(i)))return i;return null},q.declareOmidPresence=function(e,t){e.frames&&e.document&&![q.OMID_PRESENT_FRAME_NAME,q.OMID_PRESENT_FRAME_NAME_WEB,q.OMID_PRESENT_FRAME_NAME_APP].some((function(t){return!!e.frames[t]}))&&(null==e.document.body&&q.isMutationObserverAvailable_(e)?q.registerMutationObserver_(e,t):(t=q.getEnvironmentIframeName(t),e.document.body?(q.appendPresenceIframe_(e,q.OMID_PRESENT_FRAME_NAME),q.appendPresenceIframe_(e,t)):(ee(e,q.OMID_PRESENT_FRAME_NAME),ee(e,t))))},q.appendPresenceIframe_=function(e,t){var n=e.document.createElement("iframe");n.id=t,n.name=t,n.style.display="none",n.sandbox="",e.document.body.appendChild(n)},q.isMutationObserverAvailable_=function(e){return"MutationObserver"in e},q.registerMutationObserver_=function(e,t){var n=new MutationObserver((function(r){r.forEach((function(r){"BODY"===r.addedNodes[0].nodeName&&(r=q.getEnvironmentIframeName(t),q.appendPresenceIframe_(e,q.OMID_PRESENT_FRAME_NAME),q.appendPresenceIframe_(e,r),n.disconnect())}))}));n.observe(e.document.documentElement,{childList:!0})};var te={},ne=["omid","v1_SessionServiceCommunication"],re=["omid","v1_VerificationServiceCommunication"],ie=["omidVerificationProperties","serviceWindow"];function oe(e,t){return t.reduce((function(e,t){return e&&e[t]}),e)}function se(e,t,n,r){if(!J(t))try{var i=oe(t,n);if(i)return new X(i)}catch(e){}return r(t)?new Q(e,t):null}function ae(e,t,r,i){for(var o=(t=n.makeIterator(t)).next();!o.done;o=t.next())if(o=se(e,o.value,r,i))return o;return null}function ue(e,t,n){n=void 0===n?q.isOmidPresent:n;var r=[e,K(e)];return t&&r.unshift(t),ae(e,r,ne,n)}te.startSessionServiceCommunication=ue,te.startVerificationServiceCommunication=function(e,t){t=void 0===t?q.isOmidPresent:t;var n=[],r=oe(e,ie);return r&&n.push(r),n.push(K(e)),ae(e,n,re,t)};var ce=function(e,t,n){p("AdSession.context",e),this.adSessionId_=A(),this.context_=e,this.impressionOccurred_=!1;var r=this.context_.serviceWindow||void 0;this.communication_=t||ue($(),r),this.sessionInterface_=n||new g,this.isSessionRunning_=this.hasMediaEvents_=this.hasAdEvents_=!1,this.impressionType_=this.creativeType_=null,this.creativeLoaded_=!1,this.callbackMap_={},this.communication_&&(this.communication_.onMessage=this.handleInternalMessage_.bind(this)),this.setClientInfo_(),this.injectVerificationScripts_(e.verificationScriptResources),this.sendSlotElement_(e.slotElement),this.sendVideoElement_(e.videoElement),this.sendContentUrl_(e.contentUrl),this.watchSessionEvents_()};ce.prototype.getAdSessionId=function(){return this.adSessionId_},ce.prototype.setCreativeType=function(e){if(e===r.CreativeType.DEFINED_BY_JAVASCRIPT)throw Error("Creative type cannot be redefined with value "+r.CreativeType.DEFINED_BY_JAVASCRIPT);if(this.impressionOccurred_)throw Error("Impression has already occurred");if(this.creativeLoaded_)throw Error("Creative has already loaded");if(this.creativeType_&&this.creativeType_!==r.CreativeType.DEFINED_BY_JAVASCRIPT)throw Error("Creative type cannot be redefined");if(void 0===this.creativeType_)throw Error("Native integration is using OMID 1.2 or earlier");this.sendOneWayMessage("setCreativeType",e,this.adSessionId_),this.creativeType_=e},ce.prototype.setImpressionType=function(e){if(e===r.ImpressionType.DEFINED_BY_JAVASCRIPT)throw Error("Impression type cannot be redefined with value "+r.ImpressionType.DEFINED_BY_JAVASCRIPT);if(this.impressionOccurred_)throw Error("Impression has already occurred");if(this.creativeLoaded_)throw Error("Creative has already loaded");if(this.impressionType_&&this.impressionType_!==r.ImpressionType.DEFINED_BY_JAVASCRIPT)throw Error("Impression type cannot be redefined");if(void 0===this.impressionType_)throw Error("Native integration is using OMID 1.2 or earlier");this.sendOneWayMessage("setImpressionType",e,this.adSessionId_),this.impressionType_=e},ce.prototype.isSupported=function(){return!!this.communication_||this.sessionInterface_.isSupported()},ce.prototype.isSendingElementsSupported_=function(){return this.communication_?this.communication_.isDirectCommunication():this.sessionInterface_.isSupported()},ce.prototype.registerSessionObserver=function(e){this.sendMessage("registerSessionObserver",e,this.adSessionId_)},ce.prototype.start=function(){this.sendOneWayMessage("startSession",{customReferenceData:this.context_.customReferenceData,underEvaluation:this.context_.underEvaluation},this.adSessionId_)},ce.prototype.finish=function(){this.sendOneWayMessage("finishSession",this.adSessionId_)},ce.prototype.error=function(e,t){this.sendOneWayMessage("sessionError",e,t,this.adSessionId_)},ce.prototype.registerAdEvents=function(){if(this.hasAdEvents_)throw Error("AdEvents already registered.");this.hasAdEvents_=!0,this.sendOneWayMessage("registerAdEvents",this.adSessionId_)},ce.prototype.registerMediaEvents=function(){if(this.hasMediaEvents_)throw Error("MediaEvents already registered.");this.hasMediaEvents_=!0,this.sendOneWayMessage("registerMediaEvents",this.adSessionId_)},ce.prototype.sendOneWayMessage=function(e){var t=n.getRestArguments.apply(1,arguments);this.sendMessage.apply(this,[e,null].concat(n.arrayFromIterable(t)))},ce.prototype.sendMessage=function(e,t){var r=n.getRestArguments.apply(2,arguments);this.communication_?this.sendInternalMessage_(e,t,r):this.sessionInterface_.isSupported()&&this.sendInterfaceMessage_(e,t,r)},ce.prototype.sendInternalMessage_=function(e,t,n){var r=A();t&&(this.callbackMap_[r]=t),e=new u(r,j(e),N,x(N,n)),this.communication_.sendMessage(e)},ce.prototype.handleInternalMessage_=function(e,t){t=e.method;var n=e.guid;if(e=e.args,"response"===t&&this.callbackMap_[n]){var r=F(N,e);this.callbackMap_[n].apply(this,r)}"error"===t&&window.console&&M(e)},ce.prototype.sendInterfaceMessage_=function(e,t,n){try{this.sessionInterface_.sendMessage(e,t,n)}catch(e){M("Failed to communicate with SessionInterface with error:"),M(e)}},ce.prototype.assertSessionRunning=function(){if(!this.isSessionRunning_)throw Error("Session not started.")},ce.prototype.impressionOccurred=function(){if(this.creativeType_===r.CreativeType.DEFINED_BY_JAVASCRIPT)throw Error("Creative type has not been redefined");if(this.impressionType_===r.ImpressionType.DEFINED_BY_JAVASCRIPT)throw Error("Impression type has not been redefined");this.impressionOccurred_=!0},ce.prototype.creativeLoaded=function(){if(this.creativeType_===r.CreativeType.DEFINED_BY_JAVASCRIPT)throw Error("Creative type has not been redefined");if(this.impressionType_===r.ImpressionType.DEFINED_BY_JAVASCRIPT)throw Error("Impression type has not been redefined");this.creativeLoaded_=!0},ce.prototype.setClientInfo_=function(){this.sendOneWayMessage("setClientInfo",N,this.context_.partner.name,this.context_.partner.version,this.adSessionId_)},ce.prototype.injectVerificationScripts_=function(e){e&&(e=e.map((function(e){return e.toJSON()})),this.sendOneWayMessage("injectVerificationScriptResources",e,this.adSessionId_))},ce.prototype.sendSlotElement_=function(e){this.sendElement_(e,"setSlotElement")},ce.prototype.sendVideoElement_=function(e){this.sendElement_(e,"setVideoElement")},ce.prototype.sendElement_=function(e,t){e&&(this.isSendingElementsSupported_()?this.sendOneWayMessage(t,e,this.adSessionId_):this.error(r.ErrorType.GENERIC,"Session Client "+t+" called when communication is cross-origin"))},ce.prototype.sendContentUrl_=function(e){e&&this.sendOneWayMessage("setContentUrl",e,this.adSessionId_)},ce.prototype.setElementBounds=function(e){p("AdSession.elementBounds",e),this.sendOneWayMessage("setElementBounds",e,this.adSessionId_)},ce.prototype.watchSessionEvents_=function(){var e=this;this.registerSessionObserver((function(t){t.type===r.AdEventType.SESSION_START&&(e.isSessionRunning_=!0,e.creativeType_=t.data.creativeType,e.impressionType_=t.data.impressionType),t.type===r.AdEventType.SESSION_FINISH&&(e.isSessionRunning_=!1)}))},y("OmidSessionClient.AdSession",ce);var de=function(e,t,n,r){this.isSkippable=e,this.skipOffset=t,this.isAutoPlay=n,this.position=r};de.prototype.toJSON=function(){return{isSkippable:this.isSkippable,skipOffset:this.skipOffset,isAutoPlay:this.isAutoPlay,position:this.position}};var le=function(e){p("AdEvents.adSession",e),this.adSessionId_=e.getAdSessionId();try{e.registerAdEvents(),this.adSession=e}catch(e){throw Error("AdSession already has an ad events instance registered")}};le.prototype.impressionOccurred=function(){this.adSession.assertSessionRunning(),this.adSession.impressionOccurred(),this.adSession.sendOneWayMessage("impressionOccurred",this.adSessionId_)},le.prototype.loaded=function(e){e=void 0===e?null:e,this.adSession.creativeLoaded(),e=e?e.toJSON():null,this.adSession.sendOneWayMessage("loaded",e,this.adSessionId_)},y("OmidSessionClient.AdEvents",le);var pe=function(e){p("MediaEvents.adSession",e),this.adSessionId_=e.getAdSessionId();try{e.registerMediaEvents(),this.adSession=e}catch(e){throw Error("AdSession already has a media events instance registered")}};pe.prototype.start=function(e,t){f("MediaEvents.start.duration",e),h("MediaEvents.start.mediaPlayerVolume",t,0,1),this.adSession.sendOneWayMessage("start",e,t,this.adSessionId_)},pe.prototype.firstQuartile=function(){this.adSession.sendOneWayMessage("firstQuartile",this.adSessionId_)},pe.prototype.midpoint=function(){this.adSession.sendOneWayMessage("midpoint",this.adSessionId_)},pe.prototype.thirdQuartile=function(){this.adSession.sendOneWayMessage("thirdQuartile",this.adSessionId_)},pe.prototype.complete=function(){this.adSession.sendOneWayMessage("complete",this.adSessionId_)},pe.prototype.pause=function(){this.adSession.sendOneWayMessage("pause",this.adSessionId_)},pe.prototype.resume=function(){this.adSession.sendOneWayMessage("resume",this.adSessionId_)},pe.prototype.bufferStart=function(){this.adSession.sendOneWayMessage("bufferStart",this.adSessionId_)},pe.prototype.bufferFinish=function(){this.adSession.sendOneWayMessage("bufferFinish",this.adSessionId_)},pe.prototype.skipped=function(){this.adSession.sendOneWayMessage("skipped",this.adSessionId_)},pe.prototype.volumeChange=function(e){h("MediaEvents.volumeChange.mediaPlayerVolume",e,0,1),this.adSession.sendOneWayMessage("volumeChange",e,this.adSessionId_)},pe.prototype.playerStateChange=function(e){p("MediaEvents.playerStateChange.playerState",e),this.adSession.sendOneWayMessage("playerStateChange",e,this.adSessionId_)},pe.prototype.adUserInteraction=function(e){p("MediaEvents.adUserInteraction.interactionType",e),this.adSession.sendOneWayMessage("adUserInteraction",e,this.adSessionId_)},y("OmidSessionClient.MediaEvents",pe),y("OmidSessionClient.OmidVersion",(function(e,t){l("OmidVersion.semanticVersion",e),l("OmidVersion.apiLevel",t)})),y("OmidSessionClient.listenForServiceWindow",(function(e){var t=$();new Q(t).onMessage=function(t,n){t.method===r.MessageMethod.IDENTIFY_SERVICE_WINDOW&&e(n)}})),y("OmidSessionClient.VastProperties",de);var fe={VerificationVendorId:{OTHER:1,MOAT:2,DOUBLEVERIFY:3,INTEGRAL_AD_SCIENCE:4,PIXELATE:5,NIELSEN:6,COMSCORE:7,MEETRICS:8,GOOGLE:9}};function he(e){for(var t=n.makeIterator(Ee.keys()),r=t.next();!r.done;r=t.next()){r=r.value;for(var i=n.makeIterator(Ee.get(r)),o=i.next();!o.done;o=i.next())if(o.value.test(e))return r}return fe.VerificationVendorId.OTHER}var Ee=new Map([[fe.VerificationVendorId.MOAT,[/^(https?:\/\/|\/\/)?[-a-zA-Z0-9.]+\.moatads\.com\/.*$/]],[fe.VerificationVendorId.DOUBLEVERIFY,[/^(https?:\/\/|\/\/)?[-a-zA-Z0-9.]+\.doubleverify\.com\/.*$/,/^(https?:\/\/|\/\/)?c\.[\w\-]+\.com\/vfw\/dv\/.*$/,/^(https?:\/\/|\/\/)?(www\.)?[\w]+\.tv\/r\/s\/d\/.*$/,/^(https?:\/\/|\/\/)?(\w\.?)+\.dv\.tech\/.*$/]],[fe.VerificationVendorId.INTEGRAL_AD_SCIENCE,[/^(https?:\/\/|\/\/)?[-a-zA-Z0-9.]+\.adsafeprotected\.com\/.*$/]],[fe.VerificationVendorId.PIXELATE,[/^https?:\/\/(q|cdn)\.adrta\.com\/s\/.*\/(aa|aanf)\.js.*$/,/^https:\/\/cdn\.rta247\.com\/s\/.*\/(aa|aanf)\.js.*$/]],[fe.VerificationVendorId.NIELSEN,[]],[fe.VerificationVendorId.COMSCORE,[/^(https?:\/\/|\/\/)?[-a-zA-Z0-9.]+\.voicefive\.com\/.*$/,/^(https?:\/\/|\/\/)?[-a-zA-Z0-9.]+\.measuread\.com\/.*$/,/^(https?:\/\/|\/\/)?[-a-zA-Z0-9.]+\.scorecardresearch\.com\/.*$/]],[fe.VerificationVendorId.MEETRICS,[/^(https?:\/\/|\/\/)?s418\.mxcdn\.net\/bb-serve\/omid-meetrics.*\.js$/]],[fe.VerificationVendorId.GOOGLE,[/^(https?:\/\/|\/\/)?pagead2\.googlesyndication\.com\/.*$/,/^(https?:\/\/|\/\/)?www\.googletagservices\.com\/.*$/]]]);y("OmidSessionClient.verificationVendorIdForScriptUrl",he),y("OmidSessionClient.VerificationVendorId",fe.VerificationVendorId),fe.verificationVendorIdForScriptUrl=he;var ye={};function _e(e,t){return Math.abs(e-t)<.01}ye.roughlyEqual=_e,ye.roughlyLessThan=function(e,t){return t-e>.01},ye.lessThanOrRoughlyEqual=function(e,t){return e<t||_e(e,t)},ye.greaterThanOrRoughlyEqual=function(e,t){return e>t||_e(e,t)};var Se={},me="webOSSystem";function ve(e){if("object"==typeof e&&"object"==typeof e[me])return e[me]}Se.getWebOSSystem=ve,Se.isWebOS=function(e){return"object"==typeof ve(e)};var Ie="tizen";function Oe(e){if("object"==typeof e&&"object"==typeof e[Ie])return e[Ie]}Se.getTizen=Oe,Se.isTizen=function(e){return"object"==typeof Oe(e)}}),"undefined"==typeof exports?void 0:exports);